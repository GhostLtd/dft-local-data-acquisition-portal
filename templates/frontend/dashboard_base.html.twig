{%- extends 'frontend/base.html.twig' -%}

{%- block beforeMainWrapper -%}
    {%- from "@GhostGovUkFrontend/components/macros.html.twig" import breadcrumbs -%}

    {{- parent() -}}

    {%- set items = [
        {
            text: 'frontend.pages.dashboard.title' | trans,
            href: path('app_dashboard'),
        }
    ] -%}

    {%- if 'recipient' in breadcrumb_components ?? {} -%}
        {%- set items = items | merge([
            {
                text: 'frontend.pages.recipient.title' | trans({recipientName: recipient.name}),
                href: path('app_recipient', {id: recipient.id}),
            }
        ]) -%}
    {%- endif -%}

    {%- if 'fund_return' in breadcrumb_components ?? {} -%}
        {%- set items = items | merge([
            {
                text: 'frontend.pages.fund_return.title' | trans({
                    quarter: fundReturn.quarter,
                    type: fundReturn.fundAward.type.name,
                    year: fundReturn.year,
                }),
                href: path('app_fund_return', {id: fundReturn.id}),
            }
        ]) -%}
    {%- endif -%}

    {%- if items | length > 1 -%}
        {{- breadcrumbs({
            items
        }) -}}
    {%- endif -%}
{%- endblock -%}
